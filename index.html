<!doctype html>
<html ng-app="testApp">
<head>
    <title>Angular Sandbox</title>

    <script>
    var app_data = {
        debug: true,
        base_url: "http:\/\/moonshot\/app_dev.php\/ar\/",
        locations: [{
            "id": 4,
            "title": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
            "center_lat": 30.04841,
            "center_lng": 31.23619,
            "children": [{
                "id": 5,
                "title": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",
                "center_lat": 30.05157,
                "center_lng": 31.47973,
                "children": [{
                    "id": 6,
                    "title": "\u0634\u0627\u0631\u0639 \u0627\u0644\u062a\u0633\u0639\u064a\u0646",
                    "children": []
                }]
            }, {
                "id": 7,
                "title": "6 \u0623\u0643\u062a\u0648\u0628\u0631",
                "children": []
            }, {
                "id": 8,
                "title": "\u0627\u0644\u062c\u064a\u0632\u0629",
                "children": []
            }]
        }, {
            "id": 9,
            "title": "\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",
            "center_lat": 31.21354,
            "center_lng": 29.94435,
            "children": [{
                "id": 10,
                "title": "\u0633\u0645\u0648\u062d\u0629",
                "children": []
            }]
        }, {
            "id": 11,
            "title": "\u0627\u0644\u0633\u0627\u062d\u0644 \u0627\u0644\u0634\u0645\u0627\u0644\u064a",
            "children": []
        }],
        price_filters: [{
            "value": 100000,
            "section": 1
        }, {
            "value": 250000,
            "section": 1
        }, {
            "value": 500000,
            "section": 1
        }, {
            "value": 750000,
            "section": 1
        }, {
            "value": 1000000,
            "section": 1
        }, {
            "value": 2000000,
            "section": 1
        }, {
            "value": 5000000,
            "section": 1
        }, {
            "value": 500,
            "section": 2
        }, {
            "value": 1000,
            "section": 2
        }, {
            "value": 2000,
            "section": 2
        }, {
            "value": 3000,
            "section": 2
        }, {
            "value": 4000,
            "section": 2
        }, {
            "value": 6000,
            "section": 2
        }, {
            "value": 10000,
            "section": 2
        }, {
            "value": 20000,
            "section": 2
        }, {
            "value": 50000,
            "section": 2
        }]
    };
    </script>
</head>
<body>

    <div ng-controller="MainCtrl">
        <form>
            <p>
                <select ng-model="location" ng-options="i.title for i in items" ng-change="location_3=null;location_2=null;location_1=null"></select>
            </p>
            <p ng-show="location.children">
                <select ng-model="location_1" ng-options="i.title for i in location.children" ng-change="location_3=null;location_2=null"></select>
            </p>
            
            <p ng-show="location_1.children">
                <select ng-model="location_2" ng-options="i.title for i in location_1.children" ng-change="location_3=null"></select>
            </p>

            <p ng-show="location_2.children">
                <select ng-model="location_3" ng-options="i.title for i in location_2.children"></select>
            </p>
            
            <input type="hidden" name="selection" value="{{ (location_3 || location_2 || location_1 || location).title }}">
            RESULT: {{ (location_3 || location_2 || location_1 || location).title }}<br/>
            
            <input type="submit" value="submit">
        </form>
        
    </div>

    <!-- <div ng-controller="MainCtrl">
        <form>
            <p>
                <select ng-model="selectedItem" ng-options="i.name for i in items" ng-change="selectedSubItem=null;selectedSubSubItem=null"></select>
            </p>
            <p ng-show="selectedItem.subItems">
                <select ng-model="selectedSubItem" ng-options="i.name for i in selectedItem.subItems" ng-change="selectedSubSubItem=null"></select>
            </p>
            
            <p ng-show="selectedSubItem.subItems">
                <select ng-model="selectedSubSubItem" ng-options="i.name for i in selectedSubItem.subItems"></select>
            </p>
            
            <input type="hidden" name="selection" value="{{ (selectedSubSubItem || selectedSubItem || selectedItem).name }}" />
            RESULT: {{ (selectedSubSubItem || selectedSubItem || selectedItem).name }}<br/>
            
            <input type="submit" value="submit">
        </form>
        
    </div> -->


    <!-- <div ng-controller="MainCtrl">
      
        <form>
            <p>
                <select ng-model="selectedItem[0]" ng-options="i.name for i in items"></select>
            </p>
            <p ng-show="selectedItem[0].subItems">
                <select ng-model="selectedItem[1]" ng-options="i.name for i in selectedItem[0].subItems"></select>
            </p>
            
            <p ng-show="selectedItem[1].subItems">
                <select ng-model="selectedItem[2]" ng-options="i.name for i in selectedItem[1].subItems"></select>
            </p>
            
            <input type="hidden" name="selection" ng-value="choiceValue()">
                
            <input type="submit" value="submit">
        </form>
    
    </div> -->


    <script src="js/angular.min.js"></script>
    <script src="js/myScript.js"></script>
</body>
</html>